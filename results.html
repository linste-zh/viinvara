<!DOCTYPE html>
<html>
    <head>
        <title>Results</title>
        <link href="./css/results.css" type="text/css" rel="stylesheet">
        <link href="./css/basicLayout.css" type="text/css" rel="stylesheet">
        <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.9/dist/chart.umd.min.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-annotation@3.1.0/dist/chartjs-plugin-annotation.min.js"></script>        
        <script src="./js/results.js"></script>
        <script src="./js/headerFunctions.js"></script>
        <meta charset="UTF-8">
        <link rel="icon" type="image/x-icon" href="./media/viinvara.ico">
        <!--Font in icon: Imprint MT Shadow-->
    </head>
    <body onload="setUp()" onresize="refresh()">
        <header class = "header">
            <a id="homeButton" class="iconWrapper" onclick="reset()"><img class="home icon" src="./media/home_icon.png" alt="Home Icon"></a>
            <h1>Viinvara</h1>
            <!--<a class="iconWrapper" onclick=""><img class="help icon" src="./media/help_icon.png" alt="Help Icon"></a>-->        
        </header>
        <main class="mainBody">
            <div class="pageContent">
                <div class="textPanel" id="instruction">
                    <h1>Here are your results!</h1>
                </div>
                <div id="displayMenu">
                    <div class="displayOption" id="intervalButton" onclick="toggleGraph('interval')">Interval Graph</div>
                    <div class="displayOption" id="timestampButton" onclick="toggleGraph('timestamp')">Timestamp Graph</div>
                </div>
                <section class="results" id="resultsGrid">
                    <div id="graphContainer">
                        <canvas id="resultChart"></canvas>
                    </div>
                    <div id="resultVideoContainer">
                        <div id="showVideo" onclick="toggleVideo()">
                            <b id="showVideoText">Show Video</b>
                            <img id="videoArrow" class="arrowIcon" src="./media/arrow_icon.png">
                        </div>
                        <div id="videoContainer" class="videoContainer">
                            <b>please select your video file again</b>
                            <button id="setUpButton" class="bigButton" onclick="setUpVideo()">pick source</button>
                        </div>
                    </div>
                </section>
                <div id="exportCSV" class="csvContainer">
                    <a id="csvLink" onclick="createCSV()">Download Data</a>
                    <a id="jpegLink" onclick="createJpeg()">Download Current Graph</a>
                </div>
            </div>
        </main>
        <footer class = "footer">
            <span class="footerNote">09/07/2025</span>
            <span class="footerNote">V2.0</span>
            <span class="footerNote">Â© Linda Steiner (linste.zh@gmail.com)</span>
            <span class="footerNote">UZH - Zurich</span>
            <span class="footerNote"><a href="https://github.com/linste-zh/viinvara" target="_blank">Project Git Page</a></span>
        </footer>
    </body>
</html>